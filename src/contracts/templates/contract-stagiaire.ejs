<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Contrat de stage</title>
  <style>
    @page {
      size: A4;
      margin: 0;
    }

    body {
      font-family: "Poppins", "Montserrat", Arial, sans-serif;
      font-size: 12pt;
      line-height: 1.6;
      color: #1E1E1E;
      margin: 0;
      padding: 0;
      background: rgba(237, 232, 232, 0.588);
    }

    /* === Header fixe pour chaque page === */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 25mm;
      z-index: 1000;
    }

    .header-bar {
      height: 10mm;
      background-color: #300A46;
      width: 100%;
    }

    .header-logo {
      text-align: center;
      margin-top: 4mm;
    }

    .header-logo img {
      width: 80px;
      height: auto;
    }

    /* === Footer fixe pour chaque page === */
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 12mm;
      background-color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: white;
      font-size: 10pt;
      font-weight: 500;
      z-index: 1000;
      padding: 0 20mm;
      box-sizing: border-box;
      color: #300A46;
    }

    /* === Conteneur principal avec marges pour header/footer === */
    .content {
      margin-top: 40mm;
      margin-bottom: 15mm;
      padding: 0 20mm;
    }

    /* === Styles pour gérer les sauts de page === */
    .page-break {
      page-break-before: always;
      padding-top: 40mm;
    }

    /* === Typographie === */
    h1 {
      font-size: 13pt;
      color: #300A46;
      font-weight: 700;
      margin-top: 20px;
      margin-bottom: 8px;
      page-break-after: avoid;
      font-weight: bold;
    }

    p {
      font-size: 11pt;
      text-align: justify;
      margin: 4px 0;
      page-break-inside: avoid;
    }

    .type {
      text-align: center;
      font-weight: 700;
      color: #300A46;
      text-transform: uppercase;
      font-size: 13pt;
      margin-bottom: 15px;
    }

    .center {
      text-align: center;
    }

    .bold {
      font-weight: 600;
    }

    .signature-section {
      margin-top: 40px;
      display: flex;
      justify-content: space-between;
    }

    .signature-section div {
      width: 45%;
    }

    /* === Styles pour éviter les coupures indésirables === */
    .keep-together {
      page-break-inside: avoid;
    }

    .break-before {
      page-break-before: always;
    }
  </style>
</head>
<body>

  <!-- Header fixe sur chaque page -->
  <div class="header">
    <div class="header-bar"></div>
    <div class="header-logo">
      <img src="<%= logo1Base64 %>" alt="Logo Code Talent" />
    </div>
  </div>

  <!-- Footer fixe sur chaque page -->
  <div class="footer">
    <span>Code-Talent</span>
    <img src="<%= logo2Base64 %>" alt="CT" style="height:18px;" />
  </div>

  <!-- Contenu principal -->
  <div class="content">
    <p class="type">CONTRAT DE STAGE</p>
    <h1 class="center">ENTRE LES SOUSSIGNÉS :</h1>

    <p style="text-transform: uppercase;"><span class="bold"><%= user.nom %> <%= user.prenoms %></span>,</p>
    <p>CIN : <span class="bold"><%= user.cin %></span></p>
    <p>Domicilié à : <span class="bold"><%= user.adresse %></span></p>
    <p>ci-après dénommé « le Prestataire consultant ».</p>

    <p>ET</p>

    <p class="keep-together">
      Code Talent, société immatriculée au RCS de 2025 B 00136 à Antananarivo,
      Nifstat : 3019107233 62011-11-2025-0-10138, dont le siège social est sis
      Moufadal Center Antananarivo Madagascar, représentée par Mme
      ANDRIAMAMPIANINA Angelinah Myriame, en sa qualité de Fondatrice,
      ci-après dénommée « le Client ».
    </p>

    <h1>Article 1 - Objet</h1>
    <p class="keep-together">
      Le présent contrat a pour objet de définir les conditions dans lesquelles le 
      Stagiaire effectuera <span class="bold"><%= user.poste %></span> au sein de 
      l'Entreprise, dans le cadre d'un projet client.
    </p>

    <!-- Saut de page contrôlé -->
    <div class="page-break"></div>

    <h1>Article 2. Durée</h1>
    <p class="keep-together">
      Le stage débute le
      <span class="bold"><%= new Date(user.dateDebut).toLocaleDateString('fr-FR', {day: 'numeric', month: 'long', year: 'numeric'}) %></span> et se poursuit
      pour une durée
      <% if (user.dateFin && !user.dateFinIndeterminee) { %>
        déterminée jusqu'au <span class="bold"><%= new Date(user.dateFin).toLocaleDateString('fr-FR', {day: 'numeric', month: 'long', year: 'numeric'}) %></span>.
      <% } else { %>
        <span class="bold">indéterminée</span>.
      <% } %>
      Toute prolongation éventuelle devra faire l'objet d'un avenant écrit et 
      signé par les deux parties.
    </p>

    <h1>Article 3 – Lieu</h1>
    <p class="keep-together">
      Le stage s'effectuera principalement dans les locaux de l'Entreprise à 
      Antananarivo, Madagascar, avec possibilité de missions ponctuelles en 
      télétravail, selon les besoins du projet.
    </p>

    <h1>Article 4 – Encadrement</h1>
    <p class="keep-together">
      Le Stagiaire sera encadré par un responsable technique de Code Talent et 
      bénéficiera d'un suivi hebdomadaire afin d'assurer la bonne réalisation de ses 
      missions.
    </p>

    <p class="keep-together">
      Le Stagiaire percevra une indemnité mensuelle de <span class="bold"><%= user.indemnite %> Ariary</span> + <span class="bold"><%= user.indemniteConnexion %> Ariary</span> de 
      connexion. 
      En complément, l'Entreprise mettra à disposition : 
      Un ordinateur de travail, 
      Une prise en charge des repas, 
      Une indemnité de transport.
    </p>

    <!-- Saut de page contrôlé -->
    <div class="page-break"></div>

    <h1>Article 5. Missions</h1>
    <p>Les missions confiées au Stagiaire concerneront principalement :</p>
    <p class="keep-together"><span class="bold"><%= user.mission %></span></p>

    <h1>Article 6. Confidentialité</h1>
    <p class="keep-together">
      Le Stagiaire s'interdit de divulguer, pendant et après son stage, toute 
      information confidentielle relative à l'Entreprise, à ses clients ou à ses 
      partenaires.
    </p>

    <h1>Article 7. Équipements</h1>
    <p class="keep-together">
      Le matériel fourni (ordinateur, logiciels, accès internes) demeure la 
      propriété exclusive de l'Entreprise et devra être restitué à la fin du 
      stage en parfait état.
    </p>

    <!-- Saut de page contrôlé -->
    <div class="page-break"></div>

    <h1>Article 8. Attestation et avenir professionnel</h1>
    <p class="keep-together">
      À l'issue du stage, le Stagiaire recevra une attestation de stage. 
      Selon les résultats et les opportunités, une proposition d'alternance ou 
      de collaboration pourra être étudiée.
    </p>

    <h1>Article 9. Résiliation</h1>
    <p class="keep-together">
      En cas de manquement grave aux obligations, chacune des parties pourra 
      mettre fin au présent contrat moyennant un préavis écrit de 7 jours.
    </p>

    <div class="keep-together" style="margin-top: 100px;">
      <p>Fait à Antananarivo, le <span class="bold"><%= new Date().toLocaleDateString('fr-FR', {day: 'numeric', month: 'long', year: 'numeric'}) %></span></p>

      <div class="signature-section">
        <div>
          <p>Pour l'Entreprise,</p>
          <p>Mme Myriame Angelinah</p>
          <p>Gérante – Code Talent SARL</p>
          <br><br>
          <img src="<%= signBase64 %>" alt="signature Myriame" style="width: 300px;">
        </div>

        <div>
          <p>Pour le Stagiaire,</p>
          <br><br><br>
        </div>
      </div>
    </div>
  </div>

</body>
</html>